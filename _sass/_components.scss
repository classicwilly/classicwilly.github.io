/* _sass/_components.scss */
/* Card and UI component styles */

/* Apply card styles to content that isn't a keep-grid (keep-grid handled by google-keep-style.css) */
.main-content > *:not(.keep-grid) {
  background-color: var(--card-dark);
  border: 1px solid var(--border-gray);
  border-radius: var(--radius-md);
  padding: 0.75rem; /* further reduce padding to minimize dead space inside cards */
  margin-bottom: 0.75rem; /* tighter vertical rhythm for denser layout */
  box-shadow: var(--shadow-sm);
}

/* Very compact mode for lists/tables inside content */
.main-content.compact > *:not(.keep-grid) {
  padding: 0.5rem;
  margin-bottom: 0.5rem;
}

.keep-card { margin-bottom: 0; }

/* FAB (Floating Action Button) */
.fab-container { position: fixed; bottom: 20px; right: 20px; z-index: 1010; }
.fab { background-color: var(--circuit-teal); color: var(--card-dark); border: none; border-radius: 50%; width: 56px; height: 56px; font-size: 24px; line-height: 56px; text-align: center; box-shadow: 0 4px 12px rgba(0,0,0,0.3); cursor: pointer; transition: transform 0.2s ease-in-out; }
.fab:hover { transform: scale(1.05); }
.fab span { transition: transform 0.2s ease-in-out; display: inline-block; }
.fab[aria-expanded="true"] span { transform: rotate(45deg); }
.fab-menu { position: absolute; bottom: 65px; right: 5px; display: flex; flex-direction: column; gap: 10px; transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out; }
.fab-menu[aria-hidden="true"] { opacity: 0; transform: translateY(10px); pointer-events: none; }
.fab-menu[aria-hidden="false"] { opacity: 1; transform: translateY(0); }
.fab-menu a { background-color: var(--card-dark); color: var(--text-bright); width: 48px; height: 48px; border-radius: 50%; text-align: center; line-height: 48px; font-size: 20px; text-decoration: none; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transition: var(--transition); }
.fab-menu a:hover { background-color: var(--circuit-teal); color: var(--card-dark); transform: scale(1.1); }

/* Accessibility helpers or small UI bits can go here */

/* Skip-link visible on focus for keyboard users */
.skip-link {
  position: absolute; /* kept for layout fallback */
  left: -9999px;
  top: auto;
  width: 1px;
  height: 1px;
  overflow: hidden;
}
.skip-link:focus,
.skip-link:active {
  left: 1rem;
  top: 1rem;
  width: auto;
  height: auto;
  padding: 0.5rem 0.75rem;
  background: var(--circuit-teal);
  color: var(--card-dark);
  border-radius: 4px;
  z-index: 9999;
  box-shadow: var(--shadow-lg);
  text-decoration: none;
}

/* Respect user preference for reduced motion (important for vestibular/sensory sensitivities) */
@media (prefers-reduced-motion: reduce) {
  * {
    transition: none !important;
    animation: none !important;
    scroll-behavior: auto !important;
  }
  .fab,
  .fab-menu {
    transition: none !important;
    transform: none !important;
  }
}

/* Stronger focus-visible styles for keyboard users (helps navigation for executive dysfunction) */
:focus-visible {
  outline: 3px solid var(--circuit-teal);
  outline-offset: 2px;
}

/* Wonky AI guide styles */
#wonky-ai-widget { 
  position: fixed; 
  right: 16px; 
  bottom: 90px; 
  width: 320px; 
  background: var(--card-dark); 
  border: 1px solid var(--border-gray); 
  border-radius: 8px; 
  box-shadow: var(--shadow-lg); 
  z-index: 1100; 
  font-size: 0.95rem;
}
#wonky-ai-header { display:flex; justify-content:space-between; align-items:center; padding:0.5rem 0.75rem; }
#wonky-ai-content { padding:0.75rem; }
.wonky-controls { display:flex; gap:0.5rem; align-items:center; }
.guide-intro { margin:0 0 0.5rem 0; font-size:0.9rem; color:var(--text-light); }
.guide-actions { display:flex; gap:0.5rem; align-items:center; margin-bottom:0.5rem; }
.suggestions { list-style:none; margin:0; padding:0; max-height:240px; overflow:auto; }
.suggestion-item { padding:0.25rem 0; border-bottom:1px dashed rgba(255,255,255,0.03); }
.suggestion-action { background:transparent; color:var(--text-bright); border:1px solid rgba(255,255,255,0.03); padding:0.4rem 0.6rem; border-radius:6px; cursor:pointer; display:block; width:100%; text-align:left; }
.suggestion-desc { margin:0.25rem 0 0 0.5rem; color:var(--text-light); font-size:0.85rem; }

@media (max-width: 768px) {
  #wonky-ai-widget { width: calc(100% - 32px); left:16px; right:16px; bottom:60px; }
}

/* Styles for injected Ask Wonky AI button and modal */
.ask-wonky {
  background: rgba(255,255,255,0.03);
  color: var(--text-bright);
  border: 1px solid rgba(255,255,255,0.04);
  padding: 0.25rem 0.5rem;
  border-radius: 6px;
  font-size: 0.85rem;
  cursor: pointer;
}
.wonky-modal {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,0.6);
  z-index: 1200;
}
.wonky-modal[hidden] { display: none; }
.wonky-modal-content {
  background: var(--card-dark);
  color: var(--text-bright);
  border-radius: 8px;
  width: 520px;
  max-width: calc(100% - 40px);
  padding: 1rem;
  box-shadow: var(--shadow-lg);
}
.wonky-modal-close { background:transparent; border:none; font-size:1.25rem; float:right; cursor:pointer; }
.wonky-modal-list { list-style:none; margin:0; padding:0; }
.modal-suggestion { padding:0.5rem 0; border-bottom:1px dashed rgba(255,255,255,0.03); }
.modal-action { display:inline-block; margin-bottom:0.25rem; padding:0.4rem 0.6rem; border-radius:6px; border:1px solid rgba(255,255,255,0.04); background:transparent; color:var(--text-bright); cursor:pointer; }
.modal-desc { margin:0; color:var(--text-light); font-size:0.9rem; }
.wonky-remote-badge { margin-left:0.5rem; background:var(--circuit-teal); color:var(--card-dark); padding:0.15rem 0.4rem; border-radius:4px; font-size:0.8rem; }

/* Consent modal styling (reuses wonky-modal classes) */
#wonky-consent-modal .wonky-modal-content { max-width:560px; }
#wonky-consent-modal .wonky-modal-body p { margin:0 0 0.5rem 0; color:var(--text-light); }
#wonky-consent-modal .modal-action { background:var(--circuit-teal); color:var(--card-dark); border:none; }

