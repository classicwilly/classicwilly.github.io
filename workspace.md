---
layout: default
title: Google Workspace Integration
---

# GOOGLE WORKSPACE INTEGRATION

**Connected tools for life management, co-parenting coordination, and data tracking.**

<div class="page-navigation">
  <div class="nav-section">
    <h4>ğŸ“ WHERE AM I?</h4>
    <p>Integrated <strong>Google Workspace hub</strong> connecting Calendar (family schedule), Forms (feedback/data), Sheets (tracker backend), Drive (docs), Keep (notes), Gmail (contact), and Gemini AI (assistant). All tools work together with the Wonky Sprout OS.</p>
  </div>
  
  <div class="nav-section">
    <h4>âœ… WHAT CAN I DO HERE?</h4>
    <ul>
      <li><strong>View family calendar</strong> â†’ Co-parenting schedule coordination</li>
      <li><strong>Submit feedback</strong> â†’ Google Forms for data collection</li>
      <li><strong>Access shared docs</strong> â†’ Drive-embedded files and folders</li>
      <li><strong>Contact via Gmail</strong> â†’ Direct communication form</li>
      <li><strong>AI assistance</strong> â†’ Gemini integration for protocol help</li>
    </ul>
  </div>
  
  <div class="nav-section">
    <h4>ğŸ’¡ HOW THIS HELPS</h4>
    <p>Google Workspace creates <strong>centralized external memory</strong> for ADHD/Autism brains. Calendar eliminates "when do I have the kids?" confusion. Sheets persist tracker data across devices. Forms capture feedback without friction. Drive stores SOPs externally. This is <strong>cloud-based executive function</strong>.</p>
  </div>
  
  <div class="nav-section">
    <h4>âš¡ QUICK ACCESS</h4>
    <ul>
      <li><strong><a href="#calendar" style="color: var(--circuit-teal);">Calendar</a></strong> â†’ Family schedule</li>
      <li><strong><a href="#forms" style="color: var(--circuit-teal);">Forms</a></strong> â†’ Data collection</li>
      <li><strong><a href="#sheets" style="color: var(--circuit-teal);">Sheets</a></strong> â†’ Tracker database</li>
      <li><strong><a href="#gemini" style="color: var(--circuit-teal);">Gemini AI</a></strong> â†’ Assistant</li>
    </ul>
  </div>
</div>

---

## ğŸ“… FAMILY CALENDAR {#calendar}

**Co-parenting schedule, custody transitions, and mode-switching visibility.**

<div style="background: var(--card-dark); padding: 2rem; border-radius: 12px; border: 2px solid var(--circuit-teal); margin: 2rem 0;">
  <h3 style="margin-top: 0; color: var(--circuit-teal);">Setup Instructions</h3>
  <ol>
    <li>Create Google Calendar: "Wonky Sprout Family Schedule"</li>
    <li>Add custody schedule (weekends with dad, weekdays at mom's)</li>
    <li>Color-code: Solo Execution Mode (teal), Family Structure Mode (orange)</li>
    <li>Share calendar with co-parent</li>
    <li>Get embed code: Calendar Settings â†’ Integrate calendar â†’ Iframe code</li>
    <li>Replace placeholder below with your calendar iframe</li>
  </ol>
  
  <p><strong>Embed your calendar here:</strong></p>
  
  <!-- REPLACE THIS WITH YOUR GOOGLE CALENDAR EMBED CODE -->
  <div style="background: var(--darker-bg); padding: 1.5rem; border-radius: 8px; text-align: center; border: 1px dashed var(--border-gray);">
    <p style="color: var(--text-light); margin: 0;">ğŸ“… Calendar embed goes here</p>
    <p style="color: var(--text-dim); font-size: 0.85rem; margin: 0.5rem 0 0 0;">Replace with: &lt;iframe src="https://calendar.google.com/calendar/embed?src=YOUR_CALENDAR_ID" style="border: 0" width="800" height="600" frameborder="0" scrolling="no"&gt;&lt;/iframe&gt;</p>
  </div>
</div>

<div style="display: flex; gap: 1rem; margin: 1.5rem 0;">
  <a href="https://calendar.google.com" target="_blank" style="flex: 1; display: block; padding: 1rem; background: var(--card-dark); border: 2px solid var(--circuit-teal); border-radius: 8px; text-align: center; text-decoration: none; color: var(--text-bright); font-weight: 600;">
    ğŸ”— Open Google Calendar
  </a>
  <a href="https://support.google.com/calendar/answer/37082" target="_blank" style="flex: 1; display: block; padding: 1rem; background: var(--card-dark); border: 2px solid var(--border-gray); border-radius: 8px; text-align: center; text-decoration: none; color: var(--text-bright); font-weight: 600;">
    ğŸ“– Embed Instructions
  </a>
</div>

---

## ğŸ“ FORMS & FEEDBACK {#forms}

**Google Forms for feedback collection, protocol rating, weekly reviews.**

<div class="quick-jump-grid" style="margin: 2rem 0;">
  <div class="quick-jump-tile" style="background: var(--card-dark); border: 2px solid var(--purple);">
    <div style="font-size: 2rem; margin-bottom: 0.5rem;">ğŸ“‹</div>
    <strong>Site Feedback Form</strong>
    <p style="font-size: 0.85rem; color: var(--text-light); margin: 0.5rem 0 0 0;">Report issues, suggest features</p>
    <a href="#" id="feedback-form-link" style="color: var(--purple); font-size: 0.85rem;">Setup required â†’</a>
  </div>
  
  <div class="quick-jump-tile" style="background: var(--card-dark); border: 2px solid var(--pink);">
    <div style="font-size: 2rem; margin-bottom: 0.5rem;">â­</div>
    <strong>Protocol Rating</strong>
    <p style="font-size: 0.85rem; color: var(--text-light); margin: 0.5rem 0 0 0;">Rate daily protocol effectiveness</p>
    <a href="#" id="protocol-rating-link" style="color: var(--pink); font-size: 0.85rem;">Setup required â†’</a>
  </div>
  
  <div class="quick-jump-tile" style="background: var(--card-dark); border: 2px solid var(--orange);">
    <div style="font-size: 2rem; margin-bottom: 0.5rem;">ğŸ“Š</div>
    <strong>Weekly Review</strong>
    <p style="font-size: 0.85rem; color: var(--text-light); margin: 0.5rem 0 0 0;">Submit weekly pattern analysis</p>
    <a href="#" id="weekly-review-link" style="color: var(--orange); font-size: 0.85rem;">Setup required â†’</a>
  </div>
  
  <div class="quick-jump-tile" style="background: var(--card-dark); border: 2px solid var(--circuit-teal);">
    <div style="font-size: 2rem; margin-bottom: 0.5rem;">ğŸ“¨</div>
    <strong>Contact Form</strong>
    <p style="font-size: 0.85rem; color: var(--text-light); margin: 0.5rem 0 0 0;">Direct communication via Gmail</p>
    <a href="#contact" style="color: var(--circuit-teal); font-size: 0.85rem;">Setup below â†’</a>
  </div>
</div>

<div style="background: var(--card-dark); padding: 2rem; border-radius: 12px; border: 2px solid var(--purple); margin: 2rem 0;">
  <h3 style="margin-top: 0; color: var(--purple);">How to Create Google Forms</h3>
  <ol>
    <li>Go to <a href="https://forms.google.com" target="_blank" style="color: var(--circuit-teal);">forms.google.com</a></li>
    <li>Create form for each purpose (Feedback, Protocol Rating, Weekly Review)</li>
    <li>Configure questions, response validation, email notifications</li>
    <li>Click "Send" â†’ Link icon â†’ Copy link</li>
    <li>Paste links into the JavaScript section at bottom of this page</li>
    <li>Forms can feed directly into Google Sheets for analysis</li>
  </ol>
</div>

---

## ğŸ“Š SHEETS DATABASE {#sheets}

**Google Sheets as backend for tracker data, protocol analytics, and trend visualization.**

<div style="background: var(--card-dark); padding: 2rem; border-radius: 12px; border: 2px solid var(--green); margin: 2rem 0;">
  <h3 style="margin-top: 0; color: var(--green);">Tracker Data Export to Sheets</h3>
  
  <p>Current tracker data is stored in localStorage. Export to Google Sheets for:</p>
  <ul>
    <li>Cross-device sync (access from phone/tablet/desktop)</li>
    <li>Long-term pattern analysis (months/years of data)</li>
    <li>Visualization (charts, graphs, completion rates)</li>
    <li>Backup (won't lose data if browser cache clears)</li>
  </ul>
  
  <div style="display: flex; gap: 1rem; margin: 1.5rem 0;">
    <button onclick="exportToSheets()" style="flex: 1; padding: 1rem; background: var(--green); border: none; border-radius: 8px; color: var(--darker-bg); font-weight: 700; cursor: pointer; font-family: 'IBM Plex Mono', monospace;">
      ğŸ“¤ Export Tracker Data
    </button>
    <button onclick="viewSheetsTemplate()" style="flex: 1; padding: 1rem; background: var(--card-dark); border: 2px solid var(--green); border-radius: 8px; color: var(--text-bright); font-weight: 700; cursor: pointer; font-family: 'IBM Plex Mono', monospace;">
      ğŸ“‹ View Template
    </button>
  </div>
  
  <div id="sheets-status" style="margin-top: 1rem; padding: 1rem; background: var(--darker-bg); border-radius: 8px; display: none;">
    <p style="margin: 0; color: var(--text-light);" id="sheets-message"></p>
  </div>
</div>

<div style="background: var(--card-dark); padding: 2rem; border-radius: 12px; border: 2px solid var(--border-gray); margin: 2rem 0;">
  <h3 style="margin-top: 0;">Setup Google Sheets Integration</h3>
  <ol>
    <li>Create Google Sheet: "Wonky Sprout Tracker Data"</li>
    <li>Set up columns: Date, Mode, Protocol Name, Completion Status, Energy Level, Notes</li>
    <li>Use Apps Script to create web endpoint (Tools â†’ Script editor)</li>
    <li>Deploy as web app with anonymous access</li>
    <li>Copy deployment URL and add to site config</li>
  </ol>
  
  <p><strong>Template available:</strong> <a href="https://docs.google.com/spreadsheets/create" target="_blank" style="color: var(--circuit-teal);">Create from template â†’</a></p>
</div>

---

## ğŸ“ GOOGLE DRIVE {#drive}

**Embed documents, SOPs, and shared files directly in the site.**

<div style="background: var(--card-dark); padding: 2rem; border-radius: 12px; border: 2px solid var(--blue); margin: 2rem 0;">
  <h3 style="margin-top: 0; color: var(--blue);">Embedded Documents</h3>
  
  <div class="quick-jump-grid" style="margin: 1.5rem 0;">
    <div class="quick-jump-tile" style="background: var(--darker-bg); border: 2px solid var(--blue);">
      <div style="font-size: 2rem; margin-bottom: 0.5rem;">ğŸ“„</div>
      <strong>Master SOP Doc</strong>
      <p style="font-size: 0.85rem; color: var(--text-light); margin: 0.5rem 0;">Google Docs version of protocols</p>
    </div>
    
    <div class="quick-jump-tile" style="background: var(--darker-bg); border: 2px solid var(--blue);">
      <div style="font-size: 2rem; margin-bottom: 0.5rem;">ğŸ“Š</div>
      <strong>Analytics Sheet</strong>
      <p style="font-size: 0.85rem; color: var(--text-light); margin: 0.5rem 0;">Live tracker data visualization</p>
    </div>
    
    <div class="quick-jump-tile" style="background: var(--darker-bg); border: 2px solid var(--blue);">
      <div style="font-size: 2rem; margin-bottom: 0.5rem;">ğŸ“</div>
      <strong>Shared Folder</strong>
      <p style="font-size: 0.85rem; color: var(--text-light); margin: 0.5rem 0;">Co-parenting documents</p>
    </div>
    
    <div class="quick-jump-tile" style="background: var(--darker-bg); border: 2px solid var(--blue);">
      <div style="font-size: 2rem; margin-bottom: 0.5rem;">ğŸ“</div>
      <strong>Resources</strong>
      <p style="font-size: 0.85rem; color: var(--text-light); margin: 0.5rem 0;">ADHD/Autism reference materials</p>
    </div>
  </div>
  
  <p><strong>How to embed Drive files:</strong></p>
  <ol>
    <li>Open file in Google Drive</li>
    <li>Click Share â†’ Change to "Anyone with the link"</li>
    <li>Click More (â‹®) â†’ Open in new window â†’ File â†’ Publish to web (for Sheets/Docs)</li>
    <li>Or: Share â†’ Embed â†’ Copy iframe code</li>
    <li>Paste iframe code into markdown pages</li>
  </ol>
</div>

---

## ğŸ“§ GMAIL CONTACT {#contact}

**Direct communication via embedded Gmail contact form.**

<div style="background: var(--card-dark); padding: 2rem; border-radius: 12px; border: 2px solid var(--red); margin: 2rem 0;">
  <h3 style="margin-top: 0; color: var(--red);">Contact Form</h3>
  
  <form id="contact-form" style="display: flex; flex-direction: column; gap: 1rem;">
    <div>
      <label for="contact-name" style="display: block; margin-bottom: 0.5rem; color: var(--text-bright); font-weight: 600;">Name:</label>
      <input type="text" id="contact-name" required style="width: 100%; padding: 0.75rem; background: var(--darker-bg); border: 1px solid var(--border-gray); border-radius: 6px; color: var(--text-bright); font-family: 'Space Grotesk', sans-serif;">
    </div>
    
    <div>
      <label for="contact-email" style="display: block; margin-bottom: 0.5rem; color: var(--text-bright); font-weight: 600;">Email:</label>
      <input type="email" id="contact-email" required style="width: 100%; padding: 0.75rem; background: var(--darker-bg); border: 1px solid var(--border-gray); border-radius: 6px; color: var(--text-bright); font-family: 'Space Grotesk', sans-serif;">
    </div>
    
    <div>
      <label for="contact-subject" style="display: block; margin-bottom: 0.5rem; color: var(--text-bright); font-weight: 600;">Subject:</label>
      <input type="text" id="contact-subject" required style="width: 100%; padding: 0.75rem; background: var(--darker-bg); border: 1px solid var(--border-gray); border-radius: 6px; color: var(--text-bright); font-family: 'Space Grotesk', sans-serif;">
    </div>
    
    <div>
      <label for="contact-message" style="display: block; margin-bottom: 0.5rem; color: var(--text-bright); font-weight: 600;">Message:</label>
      <textarea id="contact-message" required rows="6" style="width: 100%; padding: 0.75rem; background: var(--darker-bg); border: 1px solid var(--border-gray); border-radius: 6px; color: var(--text-bright); font-family: 'Space Grotesk', sans-serif; resize: vertical;"></textarea>
    </div>
    
    <button type="submit" style="padding: 1rem; background: var(--red); border: none; border-radius: 8px; color: white; font-weight: 700; cursor: pointer; font-family: 'IBM Plex Mono', monospace; text-transform: uppercase; letter-spacing: 1px;">
      ğŸ“§ Send Message
    </button>
  </form>
  
  <div id="contact-status" style="margin-top: 1rem; padding: 1rem; background: var(--darker-bg); border-radius: 8px; display: none;">
    <p style="margin: 0; color: var(--text-light);" id="contact-message-status"></p>
  </div>
  
  <div style="margin-top: 2rem; padding: 1.5rem; background: var(--darker-bg); border-radius: 8px; border: 1px solid var(--border-gray);">
    <p style="margin: 0; color: var(--text-light); font-size: 0.9rem;"><strong>Setup required:</strong> This form needs a backend endpoint. Options:</p>
    <ul style="color: var(--text-light); font-size: 0.9rem;">
      <li><strong>Formspree:</strong> <a href="https://formspree.io" target="_blank" style="color: var(--circuit-teal);">formspree.io</a> (easy, free tier)</li>
      <li><strong>EmailJS:</strong> <a href="https://www.emailjs.com" target="_blank" style="color: var(--circuit-teal);">emailjs.com</a> (sends via Gmail)</li>
      <li><strong>Google Apps Script:</strong> Custom endpoint (more control)</li>
    </ul>
  </div>
</div>

---

## ğŸ¤– GEMINI AI INTEGRATION {#gemini}

**AI assistant for protocol guidance, decision support, and pattern analysis.**

<div style="background: var(--card-dark); padding: 2rem; border-radius: 12px; border: 2px solid var(--yellow); margin: 2rem 0;">
  <h3 style="margin-top: 0; color: var(--yellow);">Gemini AI Assistant</h3>
  
  <div id="gemini-chat" style="background: var(--darker-bg); border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; min-height: 300px; max-height: 500px; overflow-y: auto; border: 1px solid var(--border-gray);">
    <div style="text-align: center; color: var(--text-dim); padding: 2rem;">
      <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ¤–</div>
      <p>Gemini AI chat interface goes here</p>
      <p style="font-size: 0.85rem;">Requires Google AI API key</p>
    </div>
  </div>
  
  <div style="display: flex; gap: 0.5rem;">
    <input type="text" id="gemini-input" placeholder="Ask Gemini about protocols, patterns, or decisions..." style="flex: 1; padding: 0.75rem; background: var(--darker-bg); border: 1px solid var(--border-gray); border-radius: 6px; color: var(--text-bright); font-family: 'Space Grotesk', sans-serif;">
    <button onclick="sendToGemini()" style="padding: 0.75rem 1.5rem; background: var(--yellow); border: none; border-radius: 6px; color: var(--darker-bg); font-weight: 700; cursor: pointer; font-family: 'IBM Plex Mono', monospace;">
      Send
    </button>
  </div>
  
  <div style="margin-top: 2rem; padding: 1.5rem; background: var(--darker-bg); border-radius: 8px; border: 1px solid var(--yellow);">
    <h4 style="margin-top: 0; color: var(--yellow);">Gemini AI Capabilities</h4>
    <ul style="color: var(--text-light);">
      <li><strong>Protocol Guidance:</strong> "Which protocol should I focus on today?"</li>
      <li><strong>Pattern Analysis:</strong> "What patterns do you see in my tracker data?"</li>
      <li><strong>Decision Support:</strong> "Should I switch to Family Mode early?"</li>
      <li><strong>Context-Aware:</strong> Trained on your SOPs and life structure</li>
      <li><strong>Executive Function Aid:</strong> Breaks down complex tasks into steps</li>
    </ul>
    
    <p style="margin-top: 1.5rem;"><strong>Setup Instructions:</strong></p>
    <ol style="color: var(--text-light); font-size: 0.9rem;">
      <li>Get Google AI API key: <a href="https://makersuite.google.com/app/apikey" target="_blank" style="color: var(--circuit-teal);">makersuite.google.com</a></li>
      <li>Add API key to site config (environment variable or secure storage)</li>
      <li>Configure Gemini model (gemini-pro recommended)</li>
      <li>Optionally: Feed SOPs as context for personalized responses</li>
    </ol>
  </div>
</div>

---

## âš™ï¸ INTEGRATION STATUS

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 2rem 0;">
  <div style="background: var(--card-dark); border: 2px solid var(--border-gray); border-radius: 8px; padding: 1.5rem;">
    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
      <div style="width: 12px; height: 12px; border-radius: 50%; background: var(--orange);"></div>
      <strong>ğŸ“… Calendar</strong>
    </div>
    <p style="margin: 0; font-size: 0.85rem; color: var(--text-light);">Setup required</p>
  </div>
  
  <div style="background: var(--card-dark); border: 2px solid var(--border-gray); border-radius: 8px; padding: 1.5rem;">
    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
      <div style="width: 12px; height: 12px; border-radius: 50%; background: var(--orange);"></div>
      <strong>ğŸ“ Forms</strong>
    </div>
    <p style="margin: 0; font-size: 0.85rem; color: var(--text-light);">Setup required</p>
  </div>
  
  <div style="background: var(--card-dark); border: 2px solid var(--border-gray); border-radius: 8px; padding: 1.5rem;">
    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
      <div style="width: 12px; height: 12px; border-radius: 50%; background: var(--orange);"></div>
      <strong>ğŸ“Š Sheets</strong>
    </div>
    <p style="margin: 0; font-size: 0.85rem; color: var(--text-light);">Setup required</p>
  </div>
  
  <div style="background: var(--card-dark); border: 2px solid var(--border-gray); border-radius: 8px; padding: 1.5rem;">
    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
      <div style="width: 12px; height: 12px; border-radius: 50%; background: var(--orange);"></div>
      <strong>ğŸ“ Drive</strong>
    </div>
    <p style="margin: 0; font-size: 0.85rem; color: var(--text-light);">Ready for embed</p>
  </div>
  
  <div style="background: var(--card-dark); border: 2px solid var(--border-gray); border-radius: 8px; padding: 1.5rem;">
    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
      <div style="width: 12px; height: 12px; border-radius: 50%; background: var(--orange);"></div>
      <strong>ğŸ“§ Gmail</strong>
    </div>
    <p style="margin: 0; font-size: 0.85rem; color: var(--text-light);">Setup required</p>
  </div>
  
  <div style="background: var(--card-dark); border: 2px solid var(--border-gray); border-radius: 8px; padding: 1.5rem;">
    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
      <div style="width: 12px; height: 12px; border-radius: 50%; background: var(--orange);"></div>
      <strong>ğŸ¤– Gemini AI</strong>
    </div>
    <p style="margin: 0; font-size: 0.85rem; color: var(--text-light);">API key needed</p>
  </div>
</div>

<div style="background: var(--card-dark); padding: 2rem; border-radius: 12px; border: 2px solid var(--circuit-teal); margin: 2rem 0;">
  <h3 style="margin-top: 0; color: var(--circuit-teal);">Next Steps</h3>
  <ol>
    <li><strong>Create Google Calendar</strong> for family schedule (highest priority for co-parenting)</li>
    <li><strong>Set up Google Forms</strong> for feedback and data collection</li>
    <li><strong>Configure Google Sheets</strong> backend for tracker data persistence</li>
    <li><strong>Choose contact form service</strong> (Formspree/EmailJS) for Gmail integration</li>
    <li><strong>Get Gemini API key</strong> for AI assistant functionality</li>
    <li><strong>Embed Drive docs</strong> as needed for shared resources</li>
  </ol>
  
  <p style="margin-top: 1.5rem;"><strong>All integrations are optional.</strong> Start with Calendar for immediate co-parenting benefit, then add others as needed.</p>
</div>

<script>
  // Google Forms Links Configuration
  // Replace with your actual form URLs after creating them
  const FORM_LINKS = {
    feedback: 'YOUR_FEEDBACK_FORM_URL',
    protocolRating: 'YOUR_PROTOCOL_RATING_FORM_URL',
    weeklyReview: 'YOUR_WEEKLY_REVIEW_FORM_URL'
  };
  
  // Update form links when available
  document.getElementById('feedback-form-link').href = FORM_LINKS.feedback;
  document.getElementById('protocol-rating-link').href = FORM_LINKS.protocolRating;
  document.getElementById('weekly-review-link').href = FORM_LINKS.weeklyReview;
  
  // Export tracker data to Google Sheets
  function exportToSheets() {
    const statusDiv = document.getElementById('sheets-status');
    const messageEl = document.getElementById('sheets-message');
    
    // Get tracker data from localStorage
    const trackerData = JSON.parse(localStorage.getItem('dailyTrackerData') || '{}');
    
    if (Object.keys(trackerData).length === 0) {
      statusDiv.style.display = 'block';
      messageEl.textContent = 'âš ï¸ No tracker data found. Complete some protocols first.';
      return;
    }
    
    // Format data for CSV export
    let csvContent = 'Date,Mode,Protocol,Status,Energy,Notes\n';
    
    for (const [date, data] of Object.entries(trackerData)) {
      for (const [key, value] of Object.entries(data)) {
        if (key !== 'mode' && key !== 'energyLevel') {
          csvContent += `${date},${data.mode || 'N/A'},${key},${value},${data.energyLevel || 'N/A'},\n`;
        }
      }
    }
    
    // Download as CSV
    const blob = new Blob([csvContent], { type: 'text/csv' });
    const url = window.URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `wonky-sprout-tracker-${new Date().toISOString().split('T')[0]}.csv`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    window.URL.revokeObjectURL(url);
    
    statusDiv.style.display = 'block';
    messageEl.textContent = 'âœ… Tracker data exported! Upload this CSV to your Google Sheet.';
  }
  
  function viewSheetsTemplate() {
    window.open('https://docs.google.com/spreadsheets/create', '_blank');
  }
  
  // Contact form submission
  document.getElementById('contact-form').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const statusDiv = document.getElementById('contact-status');
    const messageEl = document.getElementById('contact-message-status');
    
    const formData = {
      name: document.getElementById('contact-name').value,
      email: document.getElementById('contact-email').value,
      subject: document.getElementById('contact-subject').value,
      message: document.getElementById('contact-message').value
    };
    
    statusDiv.style.display = 'block';
    messageEl.textContent = 'ğŸ“¤ Sending message...';
    
    // TODO: Replace with actual endpoint (Formspree, EmailJS, or Google Apps Script)
    // Example with Formspree:
    // const response = await fetch('https://formspree.io/f/YOUR_FORM_ID', {
    //   method: 'POST',
    //   headers: { 'Content-Type': 'application/json' },
    //   body: JSON.stringify(formData)
    // });
    
    // Simulated response for now
    setTimeout(() => {
      messageEl.textContent = 'âš ï¸ Contact form endpoint not configured yet. Set up Formspree or EmailJS.';
    }, 1000);
  });
  
  // Gemini AI integration
  const GEMINI_API_KEY = 'AIzaSyBNpJ_L0Afpwkx-YJNIeLir0qr4qANou9U';
  const GEMINI_API_URL = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent';
  
  async function sendToGemini() {
    const input = document.getElementById('gemini-input');
    const chatDiv = document.getElementById('gemini-chat');
    
    if (!input.value.trim()) return;
    
    const userQuery = input.value;
    input.value = '';
    
    // Clear placeholder if first message
    if (chatDiv.querySelector('[style*="text-align: center"]')) {
      chatDiv.innerHTML = '';
    }
    
    // Add user message to chat
    const userMessage = document.createElement('div');
    userMessage.style.cssText = 'margin-bottom: 1rem; padding: 1rem; background: var(--card-dark); border-radius: 8px; border-left: 3px solid var(--circuit-teal);';
    userMessage.innerHTML = `<strong style="color: var(--circuit-teal);">You:</strong><br>${userQuery}`;
    chatDiv.appendChild(userMessage);
    
    // Add loading indicator
    const loadingMessage = document.createElement('div');
    loadingMessage.id = 'loading-message';
    loadingMessage.style.cssText = 'margin-bottom: 1rem; padding: 1rem; background: var(--darker-bg); border-radius: 8px; border-left: 3px solid var(--yellow);';
    loadingMessage.innerHTML = `<strong style="color: var(--yellow);">Gemini:</strong><br>Thinking...`;
    chatDiv.appendChild(loadingMessage);
    chatDiv.scrollTop = chatDiv.scrollHeight;
    
    try {
      // Call Gemini API
      const response = await fetch(`${GEMINI_API_URL}?key=${GEMINI_API_KEY}`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          contents: [{
            parts: [{
              text: `You are an AI assistant helping with the Wonky Sprout OS - a neurodivergent life management system for someone with Autism/ADHD. The system includes protocols for daily routines, Solo Execution Mode (work-focused), Family Structure Mode (parenting weekends), and various SOPs. Answer the following question helpfully and concisely:\n\n${userQuery}`
            }]
          }]
        })
      });
      
      if (!response.ok) {
        throw new Error(`API error: ${response.status}`);
      }
      
      const data = await response.json();
      const aiResponse = data.candidates[0].content.parts[0].text;
      
      // Remove loading message
      loadingMessage.remove();
      
      // Add AI response
      const aiMessage = document.createElement('div');
      aiMessage.style.cssText = 'margin-bottom: 1rem; padding: 1rem; background: var(--darker-bg); border-radius: 8px; border-left: 3px solid var(--yellow);';
      aiMessage.innerHTML = `<strong style="color: var(--yellow);">Gemini:</strong><br>${aiResponse.replace(/\n/g, '<br>')}`;
      chatDiv.appendChild(aiMessage);
      
    } catch (error) {
      // Remove loading message
      loadingMessage.remove();
      
      // Show error
      const errorMessage = document.createElement('div');
      errorMessage.style.cssText = 'margin-bottom: 1rem; padding: 1rem; background: var(--darker-bg); border-radius: 8px; border-left: 3px solid var(--red);';
      errorMessage.innerHTML = `<strong style="color: var(--red);">Error:</strong><br>Failed to connect to Gemini AI. ${error.message}`;
      chatDiv.appendChild(errorMessage);
    }
    
    chatDiv.scrollTop = chatDiv.scrollHeight;
  }
  
  // Allow Enter key to send message
  document.getElementById('gemini-input').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
      sendToGemini();
    }
  });
</script>
